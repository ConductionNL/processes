openapi: 3.0.2
info:
  title: 'Processes (Processen)'
  version: 0.0.1
  description: |
    The processes component is intended to tell applications how to render a request from the request component to a user. That means that the request component tells an application WHAT data it needs. But the processes component tells an application HOW this data needs to be collected. E.g. the different stages in a form. 
    
paths:
  /processes:
    get:
      tags:
        - Process
      operationId: getProcessCollection
      summary: 'Retrieves the collection of Process resources.'
      responses:
        200:
          description: 'Process collection response'
          content:
            application/hal+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Process-read'
            application/ld+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Process-read'
            application/vnd.api+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Process-read'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Process-read'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Process-read'
            application/x-yaml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Process-read'
            text/csv:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Process-read'
            text/html:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Process-read'
      parameters:
        -
          name: rsin
          in: query
          required: false
          schema:
            type: string
        -
          name: 'rsin[]'
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        -
          name: page
          in: query
          required: false
          description: 'The collection page number'
          schema:
            type: integer
    post:
      tags:
        - Process
      operationId: postProcessCollection
      summary: 'Creates a Process resource.'
      responses:
        201:
          description: 'Process resource created'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Process-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Process-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Process-read'
          links:
            GetProcessItem:
              parameters:
                id: '$response.body#/id'
              operationId: getProcessItem
              description: 'The `id` value returned in the response can be used as the `id` parameter in `GET /processes/{id}`.'
        400:
          description: 'Invalid input'
        404:
          description: 'Resource not found'
      requestBody:
        content:
          application/hal+json:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/vnd.api+json:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/json:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/xml:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/x-yaml:
            schema:
              $ref: '#/components/schemas/Process-write'
          text/csv:
            schema:
              $ref: '#/components/schemas/Process-write'
          text/html:
            schema:
              $ref: '#/components/schemas/Process-write'
        description: 'The new Process resource'
  '/processes/{id}':
    get:
      tags:
        - Process
      operationId: getProcessItem
      summary: 'Retrieves a Process resource.'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Process resource response'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Process-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Process-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Process-read'
        404:
          description: 'Resource not found'
    put:
      tags:
        - Process
      operationId: putProcessItem
      summary: 'Replaces the Process resource.'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Process resource updated'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Process-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Process-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Process-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Process-read'
        400:
          description: 'Invalid input'
        404:
          description: 'Resource not found'
      requestBody:
        content:
          application/hal+json:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/vnd.api+json:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/json:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/xml:
            schema:
              $ref: '#/components/schemas/Process-write'
          application/x-yaml:
            schema:
              $ref: '#/components/schemas/Process-write'
          text/csv:
            schema:
              $ref: '#/components/schemas/Process-write'
          text/html:
            schema:
              $ref: '#/components/schemas/Process-write'
        description: 'The updated Process resource'
    delete:
      tags:
        - Process
      operationId: deleteProcessItem
      summary: 'Removes the Process resource.'
      responses:
        204:
          description: 'Process resource deleted'
        404:
          description: 'Resource not found'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
  /stages:
    get:
      tags:
        - Stage
      operationId: getStageCollection
      summary: 'Retrieves the collection of Stage resources.'
      responses:
        200:
          description: 'Stage collection response'
          content:
            application/hal+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Stage-read'
            application/ld+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Stage-read'
            application/vnd.api+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Stage-read'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Stage-read'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Stage-read'
            application/x-yaml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Stage-read'
            text/csv:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Stage-read'
            text/html:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Stage-read'
      parameters:
        -
          name: page
          in: query
          required: false
          description: 'The collection page number'
          schema:
            type: integer
    post:
      tags:
        - Stage
      operationId: postStageCollection
      summary: 'Creates a Stage resource.'
      responses:
        201:
          description: 'Stage resource created'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Stage-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Stage-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Stage-read'
          links:
            GetStageItem:
              parameters:
                id: '$response.body#/id'
              operationId: getStageItem
              description: 'The `id` value returned in the response can be used as the `id` parameter in `GET /stages/{id}`.'
        400:
          description: 'Invalid input'
        404:
          description: 'Resource not found'
      requestBody:
        content:
          application/hal+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/vnd.api+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/xml:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/x-yaml:
            schema:
              $ref: '#/components/schemas/Stage-write'
          text/csv:
            schema:
              $ref: '#/components/schemas/Stage-write'
          text/html:
            schema:
              $ref: '#/components/schemas/Stage-write'
        description: 'The new Stage resource'
  '/stages/{id}':
    get:
      tags:
        - Stage
      operationId: getStageItem
      summary: 'Retrieves a Stage resource.'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Stage resource response'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Stage-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Stage-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Stage-read'
        404:
          description: 'Resource not found'
    delete:
      tags:
        - Stage
      operationId: deleteStageItem
      summary: 'Removes the Stage resource.'
      responses:
        204:
          description: 'Stage resource deleted'
        404:
          description: 'Resource not found'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
    put:
      tags:
        - Stage
      operationId: putStageItem
      summary: 'Replaces the Stage resource.'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Stage resource updated'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Stage-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Stage-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Stage-read'
        400:
          description: 'Invalid input'
        404:
          description: 'Resource not found'
      requestBody:
        content:
          application/hal+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/vnd.api+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/xml:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/x-yaml:
            schema:
              $ref: '#/components/schemas/Stage-write'
          text/csv:
            schema:
              $ref: '#/components/schemas/Stage-write'
          text/html:
            schema:
              $ref: '#/components/schemas/Stage-write'
        description: 'The updated Stage resource'
    patch:
      tags:
        - Stage
      operationId: patchStageItem
      summary: 'Updates the Stage resource.'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: 'Stage resource updated'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Stage-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Stage-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Stage-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Stage-read'
        400:
          description: 'Invalid input'
        404:
          description: 'Resource not found'
      requestBody:
        content:
          application/hal+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/vnd.api+json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/json:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/xml:
            schema:
              $ref: '#/components/schemas/Stage-write'
          application/x-yaml:
            schema:
              $ref: '#/components/schemas/Stage-write'
          text/csv:
            schema:
              $ref: '#/components/schemas/Stage-write'
          text/html:
            schema:
              $ref: '#/components/schemas/Stage-write'
        description: 'The updated Stage resource'
components:
  schemas:
    Process-read:
      type: object
      description: 'A process'
      properties:
        id:
          readOnly: true
          type: string
        icon:
          type: string
        name:
          type: string
        subtitle:
          type: string
        description:
          type: string
        rsin:
          type: string
        stages:
          type: array
          items:
            $ref: '#/components/schemas/Stage-read'
        request:
          type: string
    Process-write:
      type: object
      description: 'A process'
      properties:
        icon:
          type: string
        name:
          type: string
        subtitle:
          type: string
        description:
          type: string
        rsin:
          type: string
        stages:
          type: array
          items:
            $ref: '#/components/schemas/Stage-write'
        request:
          type: string
        extends:
          $ref: '#/components/schemas/Process-write'
    Stage-read:
      type: object
      description: 'A single stage within a process'
      properties:
        id:
          readOnly: true
          type: string
        name:
          type: string
        description:
          type: string
        type:
          type: string
        options:
          type: array
          items:
            type: string
        validation:
          readOnly: true
          type: array
          items:
            type: string
        property:
          type: string
    Stage-write:
      type: object
      description: 'A single stage within a process'
      properties:
        name:
          type: string
        description:
          type: string
        type:
          type: string
        options:
          type: array
          items:
            type: string
        property:
          type: string
